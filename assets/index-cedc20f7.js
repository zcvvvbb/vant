import{c as U,h as V,W as D,L as O,a as P}from"./use-translate-71d4880c.js";import{u as I}from"./use-expose-80cfd2b2.js";import{A as L,D as d,e as r,y as c,u as $,r as E,o as H,a as M,w as s,d as u,C as e,g as N,t as b,F as G}from"./vue-libs-19c20d28.js";import{b as B,a as p,m as R,t as j,w as z}from"./with-install-560d59bf.js";import{V as C}from"./index-2ad848b9.js";import{V as W,a as F}from"./index-43eb84d2.js";import"./use-route-751feeeb.js";import"./index-1ef61aa2.js";import"./index-8bc2514f.js";import"./index-2b75ebd8.js";import"./constant-ee6e27d7.js";const Z={figureArr:B(),delay:Number,duration:p(2),isStart:Boolean,direction:R("down"),height:p(40)},[q,w]=U("rolling-text-item"),J=L({name:q,props:Z,setup(t){const a=d(()=>t.direction==="down"?t.figureArr.slice().reverse():t.figureArr),m=d(()=>`-${t.height*(t.figureArr.length-1)}px`),v=d(()=>({lineHeight:V(t.height)})),g=d(()=>({height:V(t.height),"--van-translate":m.value,"--van-duration":t.duration+"s","--van-delay":t.delay+"s"}));return()=>r("div",{class:w([t.direction]),style:g.value},[r("div",{class:w("box",{animate:t.isStart})},[Array.isArray(a.value)&&a.value.map(y=>r("div",{class:w("item"),style:v.value},[y]))])])}}),[K,Q]=U("rolling-text"),X={startNum:p(0),targetNum:Number,textList:B(),duration:p(2),autoStart:j,direction:R("down"),stopOrder:R("ltr"),height:p(40)},Y=2,tt=L({name:K,props:X,setup(t){const a=d(()=>Array.isArray(t.textList)&&t.textList.length),m=d(()=>a.value?t.textList[0].length:`${Math.max(t.startNum,t.targetNum)}`.length),v=n=>{const l=[];for(let o=0;o<t.textList.length;o++)l.push(t.textList[o][n]);return l},g=d(()=>a.value?new Array(m.value).fill(""):D(t.targetNum,m.value).split("")),y=d(()=>D(t.startNum,m.value).split("")),_=n=>{const l=+y.value[n],o=+g.value[n],S=[];for(let i=l;i<=9;i++)S.push(i);for(let i=0;i<=Y;i++)for(let k=0;k<=9;k++)S.push(k);for(let i=0;i<=o;i++)S.push(i);return S},A=(n,l)=>t.stopOrder==="ltr"?.2*n:.2*(l-1-n),f=c(t.autoStart),h=()=>{f.value=!0},T=()=>{f.value=!1,t.autoStart&&O(()=>h())};return $(()=>t.autoStart,n=>{n&&h()}),I({start:h,reset:T}),()=>r("div",{class:Q()},[g.value.map((n,l)=>r(J,{figureArr:a.value?v(l):_(l),duration:t.duration,direction:t.direction,isStart:f.value,height:t.height,delay:A(l,m.value)},null))])}}),et=z(tt),x=et,rt={style:{}},at={style:{"margin-top":"10px"}},lt={style:{"margin-top":"10px"}},nt={style:{"margin-top":"10px"}},ot={style:{"margin-top":"10px"}},ht=L({__name:"index",setup(t){const a=P({"zh-CN":{direction:"设置翻滚方向",stopOrder:"设置各数位停止顺序",rollDown:"向下翻滚",rollUp:"向上翻滚",stopFrom:"从个位停止",manualControl:"手动控制",customStyle:"自定义样式",noNumberType:"翻转非数字内容",start:"开始",reset:"重置"},"en-US":{direction:"Set Rolling Direction",stopOrder:"Set Stop Order",rollDown:"Roll Down",rollUp:"Roll Up",stopFrom:"Right Side Stop First",manualControl:"Manual Control",customStyle:"Custom Style",noNumberType:"Roll Non-numeric Text",start:"Start",reset:"Reset"}}),m=c(!1),v=c(!1),g=c(!1),y=c(!1),_=c(!1),A=c(["aaaaa","bbbbb","ccccc","ddddd","eeeee","fffff","ggggg"]),f=c(),h=()=>{var n;(n=f.value)==null||n.start()},T=()=>{var n;(n=f.value)==null||n.reset()};return(n,l)=>{const o=E("demo-block");return H(),M(G,null,[r(o,{title:e(a)("basicUsage")},{default:s(()=>[u("div",rt,[r(e(x),{"start-num":0,"target-num":123,"auto-start":m.value},null,8,["auto-start"]),u("div",at,[r(e(C),{onClick:l[0]||(l[0]=()=>m.value=!0),type:"primary"},{default:s(()=>[N(b(e(a)("rollDown")),1)]),_:1})])])]),_:1},8,["title"]),r(o,{title:e(a)("direction")},{default:s(()=>[u("div",null,[r(e(x),{"start-num":0,"target-num":432,"auto-start":v.value,direction:"up"},null,8,["auto-start"]),u("div",lt,[r(e(C),{onClick:l[1]||(l[1]=()=>v.value=!0),type:"primary"},{default:s(()=>[N(b(e(a)("rollUp")),1)]),_:1})])])]),_:1},8,["title"]),r(o,{title:e(a)("stopOrder")},{default:s(()=>[u("div",null,[r(e(x),{"start-num":0,"target-num":54321,"auto-start":g.value,"stop-order":"rtl"},null,8,["auto-start"]),u("div",nt,[r(e(C),{onClick:l[2]||(l[2]=()=>g.value=!0),type:"primary"},{default:s(()=>[N(b(e(a)("stopFrom")),1)]),_:1})])])]),_:1},8,["title"]),r(o,{title:e(a)("noNumberType")},{default:s(()=>[u("div",null,[r(e(x),{"text-list":A.value,duration:1,"auto-start":_.value},null,8,["text-list","auto-start"]),u("div",ot,[r(e(C),{onClick:l[3]||(l[3]=()=>_.value=!0),type:"primary"},{default:s(()=>[N(b(e(a)("start")),1)]),_:1})])])]),_:1},8,["title"]),r(o,{title:e(a)("customStyle")},{default:s(()=>[u("div",null,[r(e(x),{class:"my-rolling-text","start-num":12345,"target-num":54321,"auto-start":y.value,height:54},null,8,["auto-start"])])]),_:1},8,["title"]),r(o,{title:e(a)("manualControl")},{default:s(()=>[u("div",null,[r(e(x),{class:"my-rolling-text",ref_key:"rollingTextRef",ref:f,"start-num":0,"target-num":54321,"auto-start":!1,height:54},null,512),r(e(W),{clickable:"","column-num":2,style:{"margin-top":"10px"}},{default:s(()=>[r(e(F),{icon:"play-circle-o",text:e(a)("start"),onClick:h},null,8,["text"]),r(e(F),{icon:"replay",text:e(a)("reset"),onClick:T},null,8,["text"])]),_:1})])]),_:1},8,["title"])],64)}}});export{ht as default};
