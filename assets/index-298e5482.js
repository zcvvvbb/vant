import{b as $,c as P,u as j,R as q,e as F,L as H,p as E,a as K}from"./use-translate-71d4880c.js";import{u as O}from"./use-expose-80cfd2b2.js";import{A as B,e as l,y as _,D as L,u as M,q as Y,B as G,j as J,v as Q,r as W,o as X,a as Z,w as a,C as e,g as s,t as d,d as ee,F as te}from"./vue-libs-19c20d28.js";import{b as le}from"./constant-ee6e27d7.js";import{t as w,w as U,n as ae}from"./with-install-560d59bf.js";import{c as I,C as oe}from"./index-122de2bc.js";import{u as ne}from"./use-lazy-render-e63df66f.js";import{V as ie}from"./index-1ef61aa2.js";import{V as N}from"./index-2ad848b9.js";import"./use-route-751feeeb.js";import"./index-8bc2514f.js";import"./index-2b75ebd8.js";const[z,se]=P("collapse"),D=Symbol(z),de={border:w,accordion:Boolean,modelValue:{type:[String,Number,Array],default:""}},re=B({name:z,props:de,emits:["change","update:modelValue"],setup(m,{emit:t,slots:u}){const{linkChildren:g,children:b}=$(D),x=n=>{t("change",n),t("update:modelValue",n)},V=(n,i)=>{const{accordion:o,modelValue:p}=m;x(o?n===p?"":n:i?p.concat(n):p.filter(r=>r!==n))},f=(n={})=>{if(m.accordion)return;typeof n=="boolean"&&(n={expanded:n});const{expanded:i,skipDisabled:o}=n,r=b.filter(y=>y.disabled&&o?y.expanded.value:i??!y.expanded.value).map(y=>y.itemName.value);x(r)},C=n=>{const{accordion:i,modelValue:o}=m;return i?o===n:o.includes(n)};return O({toggleAll:f}),g({toggle:V,isExpanded:C}),()=>{var n;return l("div",{class:[se(),{[le]:m.border}]},[(n=u.default)==null?void 0:n.call(u)])}}}),ue=U(re),h=ue,[ce,S]=P("collapse-item"),me=["icon","title","value","label","right-icon"],fe=F({},I,{name:ae,isLink:w,disabled:Boolean,readonly:Boolean,lazyRender:w}),pe=B({name:ce,props:fe,setup(m,{slots:t}){const u=_(),g=_(),{parent:b,index:x}=j(D);if(!b)return;const V=L(()=>m.name??x.value),f=L(()=>b.isExpanded(V.value)),C=_(f.value),n=ne(()=>C.value||!m.lazyRender),i=()=>{f.value?u.value&&(u.value.style.height=""):C.value=!1};M(f,(v,A)=>{if(A===null)return;v&&(C.value=!0),(v?Y:H)(()=>{if(!g.value||!u.value)return;const{offsetHeight:k}=g.value;if(k){const R=`${k}px`;u.value.style.height=v?"0":R,q(()=>{u.value&&(u.value.style.height=v?R:"0")})}else i()})});const o=(v=!f.value)=>{b.toggle(V.value,v)},p=()=>{!m.disabled&&!m.readonly&&o()},r=()=>{const{border:v,disabled:A,readonly:T}=m,k=E(m,Object.keys(I));return T&&(k.isLink=!1),(A||T)&&(k.clickable=!1),l(oe,G({role:"button",class:S("title",{disabled:A,expanded:f.value,borderless:!v}),"aria-expanded":String(f.value),onClick:p},k),E(t,me))},y=n(()=>{var v;return J(l("div",{ref:u,class:S("wrapper"),onTransitionend:i},[l("div",{ref:g,class:S("content")},[(v=t.default)==null?void 0:v.call(t)])]),[[Q,C.value]])});return O({toggle:o,expanded:f,itemName:V}),()=>l("div",{class:[S({border:x.value&&m.border})]},[r(),y()])}}),ve=U(pe),c=ve,xe={class:"demo-collapse-buttons"},Be=B({__name:"index",setup(m){const t=K({"zh-CN":{text1:"代码是写出来给人看的，附带能在机器上运行。",text2:"技术无非就是那些开发它的人的共同灵魂。",text3:"在代码阅读过程中人们说脏话的频率是衡量代码质量的唯一标准。",accordion:"手风琴",titleSlot:"自定义标题内容",toggleAll:"全部展开与全部切换",openAll:"全部展开",inverse:"全部切换"},"en-US":{text1:"Content 1",text2:"Content 2",text3:"Content 3",accordion:"Accordion",titleSlot:"Custom title",toggleAll:"Toggle All",openAll:"Open All",inverse:"Toggle All"}}),u=_([0]),g=_(0),b=_([]),x=_([]),V=_(["1"]),f=_(),C=()=>{var i,o;(o=(i=f.value)==null?void 0:i.toggleAll)==null||o.call(i,!0)},n=()=>{var i,o;(o=(i=f.value)==null?void 0:i.toggleAll)==null||o.call(i)};return(i,o)=>{const p=W("demo-block");return X(),Z(te,null,[l(p,{title:e(t)("basicUsage")},{default:a(()=>[l(e(h),{modelValue:u.value,"onUpdate:modelValue":o[0]||(o[0]=r=>u.value=r)},{default:a(()=>[l(e(c),{title:e(t)("title")+1},{default:a(()=>[s(d(e(t)("text1")),1)]),_:1},8,["title"]),l(e(c),{title:e(t)("title")+2},{default:a(()=>[s(d(e(t)("text2")),1)]),_:1},8,["title"]),l(e(c),{title:e(t)("title")+3},{default:a(()=>[s(d(e(t)("text3")),1)]),_:1},8,["title"])]),_:1},8,["modelValue"])]),_:1},8,["title"]),l(p,{title:e(t)("accordion")},{default:a(()=>[l(e(h),{modelValue:g.value,"onUpdate:modelValue":o[1]||(o[1]=r=>g.value=r),accordion:""},{default:a(()=>[l(e(c),{title:e(t)("title")+1},{default:a(()=>[s(d(e(t)("text1")),1)]),_:1},8,["title"]),l(e(c),{title:e(t)("title")+2},{default:a(()=>[s(d(e(t)("text2")),1)]),_:1},8,["title"]),l(e(c),{title:e(t)("title")+3},{default:a(()=>[s(d(e(t)("text3")),1)]),_:1},8,["title"])]),_:1},8,["modelValue"])]),_:1},8,["title"]),l(p,{title:e(t)("disabled")},{default:a(()=>[l(e(h),{modelValue:b.value,"onUpdate:modelValue":o[2]||(o[2]=r=>b.value=r)},{default:a(()=>[l(e(c),{title:e(t)("title")+1},{default:a(()=>[s(d(e(t)("text1")),1)]),_:1},8,["title"]),l(e(c),{title:e(t)("title")+2,disabled:""},{default:a(()=>[s(d(e(t)("text2")),1)]),_:1},8,["title"]),l(e(c),{title:e(t)("title")+3,disabled:""},{default:a(()=>[s(d(e(t)("text3")),1)]),_:1},8,["title"])]),_:1},8,["modelValue"])]),_:1},8,["title"]),l(p,{title:e(t)("titleSlot")},{default:a(()=>[l(e(h),{modelValue:x.value,"onUpdate:modelValue":o[3]||(o[3]=r=>x.value=r)},{default:a(()=>[l(e(c),null,{title:a(()=>[s(d(e(t)("title")+1),1),l(e(ie),{name:"question-o"})]),default:a(()=>[s(" "+d(e(t)("text1")),1)]),_:1}),l(e(c),{title:e(t)("title")+2,value:e(t)("content"),icon:"shop-o"},{default:a(()=>[s(d(e(t)("text2")),1)]),_:1},8,["title","value"])]),_:1},8,["modelValue"])]),_:1},8,["title"]),l(p,{title:e(t)("toggleAll")},{default:a(()=>[l(e(h),{modelValue:V.value,"onUpdate:modelValue":o[4]||(o[4]=r=>V.value=r),ref_key:"collapse",ref:f},{default:a(()=>[l(e(c),{title:e(t)("title")+1,name:"1"},{default:a(()=>[s(d(e(t)("text1")),1)]),_:1},8,["title"]),l(e(c),{title:e(t)("title")+2,name:"2"},{default:a(()=>[s(d(e(t)("text2")),1)]),_:1},8,["title"]),l(e(c),{title:e(t)("title")+3,name:"3"},{default:a(()=>[s(d(e(t)("text3")),1)]),_:1},8,["title"])]),_:1},8,["modelValue"]),ee("div",xe,[l(e(N),{type:"primary",onClick:C},{default:a(()=>[s(d(e(t)("openAll")),1)]),_:1}),l(e(N),{type:"primary",onClick:n},{default:a(()=>[s(d(e(t)("inverse")),1)]),_:1})])]),_:1},8,["title"])],64)}}});export{Be as default};
