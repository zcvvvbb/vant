import{A as L,e as t,y as i,u as P,r as M,o as U,a as G,w as g,C as n,F as B}from"./vue-libs-19c20d28.js";import{B as C,e as F}from"./constant-ee6e27d7.js";import{c as R,h as S,a as x}from"./use-translate-71d4880c.js";import{t as V,m as $,n as N,c as T,w as D}from"./with-install-560d59bf.js";import{V as E}from"./index-dc2b3c8a.js";import"./use-touch-4e22f945.js";import"./index-2b75ebd8.js";const[O,h]=R("password-input"),A={info:String,mask:V,value:$(""),gutter:N,length:T(6),focused:Boolean,errorInfo:String},z=L({name:O,props:A,emits:["focus"],setup(f,{emit:u}){const y=e=>{e.stopPropagation(),u("focus",e)},s=()=>{const e=[],{mask:v,value:d,gutter:c,focused:p}=f,k=+f.length;for(let r=0;r<k;r++){const I=d[r],b=r!==0&&!c,_=p&&r===d.length;let l;r!==0&&c&&(l={marginLeft:S(c)}),e.push(t("li",{class:[{[F]:b},h("item",{focus:_})],style:l},[v?t("i",{style:{visibility:I?"visible":"hidden"}},null):I,_&&t("div",{class:h("cursor")},null)]))}return e};return()=>{const e=f.errorInfo||f.info;return t("div",{class:h()},[t("ul",{class:[h("security"),{[C]:!f.gutter}],onTouchstartPassive:y},[s()]),e&&t("div",{class:h(f.errorInfo?"error-info":"info")},[e])])}}}),K=D(z),w=K,X=L({__name:"index",setup(f){const u=x({"zh-CN":{info:"密码为 6 位数字",showInfo:"提示信息",addGutter:"格子间距",errorInfo:"密码错误",removeMask:"明文展示",customLength:"自定义长度"},"en-US":{info:"Some tips",showInfo:"Show Info",addGutter:"Add Gutter",errorInfo:"Password Mistake",removeMask:"Remove Mask",customLength:"Custom Length"}}),s=i({showInfo:"123",addGutter:"123",basicUsage:"123",removeMask:"123",customLength:"123"}),e=i("basicUsage"),v=i(""),d=i(),c=i(),p=i(),k=i(),r=i(),I={showInfo:d,addGutter:c,basicUsage:p,removeMask:k,customLength:r},b=l=>{if(!e.value)return;const o=e.value==="customLength"?4:6,a=(s.value[e.value]+l).slice(0,o);s.value[e.value]=a,e.value==="showInfo"&&a.length===6&&a!=="123456"&&(v.value=u("errorInfo"))},_=()=>{e.value&&(s.value[e.value]=s.value[e.value].slice(0,s.value[e.value].length-1),e.value==="showInfo"&&(v.value=""))};return P(e,l=>{if(l){const o=I[l].value;if(o){const{top:a}=o.$el.getBoundingClientRect();window.scrollTo(0,window.pageYOffset+a)}}}),(l,o)=>{const a=M("demo-block");return U(),G(B,null,[t(a,{ref_key:"basicUsage",ref:p,title:n(u)("basicUsage")},{default:g(()=>[t(n(w),{value:s.value.basicUsage,focused:e.value==="basicUsage",onFocus:o[0]||(o[0]=m=>e.value="basicUsage")},null,8,["value","focused"])]),_:1},8,["title"]),t(a,{ref_key:"customLength",ref:r,title:n(u)("customLength")},{default:g(()=>[t(n(w),{value:s.value.customLength,length:4,focused:e.value==="customLength",onFocus:o[1]||(o[1]=m=>e.value="customLength")},null,8,["value","focused"])]),_:1},8,["title"]),t(a,{ref_key:"addGutter",ref:c,title:n(u)("addGutter")},{default:g(()=>[t(n(w),{value:s.value.addGutter,gutter:10,focused:e.value==="addGutter",onFocus:o[2]||(o[2]=m=>e.value="addGutter")},null,8,["value","focused"])]),_:1},8,["title"]),t(a,{ref_key:"removeMask",ref:k,title:n(u)("removeMask")},{default:g(()=>[t(n(w),{mask:!1,value:s.value.removeMask,focused:e.value==="removeMask",onFocus:o[3]||(o[3]=m=>e.value="removeMask")},null,8,["value","focused"])]),_:1},8,["title"]),t(a,{ref_key:"showInfo",ref:d,title:n(u)("showInfo")},{default:g(()=>[t(n(w),{info:n(u)("info"),value:s.value.showInfo,"error-info":v.value,focused:e.value==="showInfo",onFocus:o[4]||(o[4]=m=>e.value="showInfo")},null,8,["info","value","error-info","focused"])]),_:1},8,["title"]),t(n(E),{show:!!e.value,onBlur:o[5]||(o[5]=m=>e.value=null),onInput:b,onDelete:_},null,8,["show"])],64)}}});export{X as default};
